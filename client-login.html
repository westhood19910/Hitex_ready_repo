<!DOCTYPE html>
<html lang="en">
<head> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HiTex EdiTex</title>
<script src="Embednav.js"></script>
<script src="freshtex.js"></script> 
<link rel="stylesheet" href="ser_them.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="fresh.css">  
<link rel="stylesheet" href="Embednav.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head> 
<body style="background: linear-gradient(to bottom, rgba(255, 255, 255, 1) 50%, rgba(3, 38, 114, 1) 50%);">
    <header class="pag-2-hed-1">
                <div class="lat_clo_001">              
                <a href="index.html" class="action-home">
                  <i class="fa-solid fa-house"></i>
               </a>  
                </div>  
                <div class="lat_clo_002">
                <button class="toggle-button-2" onclick="toggleLanguageList()">En &#9776;</button> 
                <ul class="language-list" id="languagelist">
                    <li>
                        <a href="Chinese.html" class="language-link" data-lang="chinese">中文</a>
                    </li>
                    <li>
                        <a href="French.html" class="language-link" data-lang="french">Français</a>
                    </li>
                    <li>
                        <a href="Spanish.html" class="language-link" data-lang="spanish">Español</a>
                    </li>
                    <li>
                        <a href="Japanese.html" class="language-link" data-lang="japanese">日本語</a>
                    </li>
                    <li>
                        <a href="Arabic.html" class="language-link" data-lang="arabian">عربي</a>
                    </li>
                    <li>
                        <a href="portuguese.html" class="language-link" data-lang="portuguese">Português</a>
                    </li>
                    <li>
                        <a href="Korean.html" class="language-link" data-lang="japanese">한국어</a>
                    </li>
                </ul>
            </div>
    </header>
    
               <div class="log_er_h-container">
                <div class="log_er_h-header">
                    <h1>
                        <a href="home.html" class="log_er_h-logo-text">
                          HiTex <span class="log_er_h-highlight">EdiTex</span>
                        </a>
                      </h1>
                    <p>Client Log-in Portal</p>
                </div>
                
                <div class="log_er_h-form-container">
                    <form id="loginForm">
                        <div class="log_er_h-form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" required placeholder="your@email.com">
                        </div>
                        
                        <div class="log_er_h-form-group">
                            <label for="password">Password</label>
                           <input type="password" id="password" name="password" required placeholder="Enter your password">
                        </div>
                        
                        <div class="log_er_h-form-group">
                            <button type="submit">Log In</button>
                        </div>
                        
                        <div class="log_er_h-forgot-password">
                            <a href="#">Forgot password?</a>
                        </div>
                        
                        <div class="log_er_h-separator">OR</div>
                        
                        <div class="log_er_h-form-group">
                            <a class="log_er_h-new-account-btn" href="client-sign-up.html">New Client Registration</a>
                        </div>
                    </form>
                </div>
                
                <div class="log_er_h-footer">
                    <p>&copy; 2025 HiTex EdiTex. All rights reserved.</p>
                </div>
            </div>
        
            <script>
    document.getElementById('loginForm').addEventListener('submit', async (e) => {
        e.preventDefault(); // Stop the form from submitting the old way

        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        try {
            // Send the login details to YOUR live Render server
            const response = await fetch('https://hitex-backend-server.onrender.com/login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email, password })
            });

            const data = await response.json();

            if (!response.ok) {
                // If the server sends an error (e.g., "User not found"), show it
                throw new Error(data.message);
            }

            // --- IMPORTANT ---
            // If login is successful, save the token to the browser's storage
            localStorage.setItem('authToken', data.token);
            localStorage.setItem('user', JSON.stringify(data.user));

            alert('Login successful! Welcome back, ' + data.user.fullName);

            // Redirect to a protected dashboard page
            // window.location.href = '/dashboard.html'; 

        } catch (error) {
            // Show any errors in an alert box
            alert('Login failed: ' + error.message);
        }
    });
</script>
      

     
            <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

</body>
</html>
